execute unless entity @s[nbt={powered:true}] run summon lightning_bolt ~ 300 ~
execute unless entity @s[nbt={powered:true}] run playsound item.trident.thunder player @a ~ ~ ~ 1 1 0
execute unless entity @s[nbt={powered:true}] run effect give @s resistance infinite 127 true
execute unless entity @s[nbt={powered:true}] run effect give @s regeneration infinite 127 true
execute unless entity @s[nbt={powered:true}] run effect give @s fire_resistance infinite 127 true
execute unless entity @s[nbt={powered:true}] run effect give @s slow_falling infinite 127 true
execute unless entity @s[nbt={powered:true}] run attribute @s generic.knockback_resistance base set 32767
execute unless entity @s[nbt={powered:true}] run data merge entity @s {powered:true,PersistenceRequired:1b}

scoreboard players set $mod ui_calc1 100
function ui:common/rand

execute if score $list_card_count ui_temp matches 0 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:gold_block",tag:{tmw:{id:272,type:1,enableQ:1,cg:{only_one:1,cost:8,particle_laser:1,particle_target:7,oo_draw_effect:     {delay_type:0,delay:1,repeat:0,name:'["",{"text":"【唯一】","bold":true,"italic":false,"color":"gold"},{"text":"雷神","italic":false,"color":"yellow"}]',lore:['[{"text":"HP+180 帯電+3 マナ最大値+3 不死+1","color":"gray","italic":false}]'],cost:0,particle_laser:0,particle_self:11,effects:[{target_type:2,effect_type:"modify_value",input:"health",var:180},{target_type:2,effect_type:"modify_value",input:"shock",var:3},{target_type:2,effect_type:"modify_value",input:"mana_max",var:3},{target_type:2,effect_type:"modify_value",input:"undying",var:1}]},effects:[{target_type:2,effect_type:"modify_value",input:"shock",var:10},{target_type:2,effect_type:"modify_value",input:"speed",var:99},{target_type:2,effect_type:"draw",var:3}   ,{target_type:2,effect_type:"after_effect",cg:{cost:0,delay_type:1,delay:0,repeat:-1,name:'[{"text":"雷神","italic":false,"color":"yellow"}]',lore:['[{"text":"永続 ","color":"yellow","italic":false},{"text":"自身と敵一体に経過ターン数/2の帯電を付与","color":"gray","italic":false}]','[{"text":" ","color":"yellow","italic":false},{"text":"【経過ターン数:15】マナ最大値+1、攻撃力+1","color":"gray","italic":false}]','[{"text":" ","color":"yellow","italic":false},{"text":"【経過ターン数:30】帯電+10、攻撃力+1、ドロー1","color":"gray","italic":false}]','[{"text":"※図書館戦闘用です※","color":"red","italic":false}]'],effects:[{target_type:2,effect_type:"modify_value",input:"shock",var_input:{name:"turn_count",mult:0.5}},{target_type:5,effect_type:"modify_value",input:"shock",var_input:{name:"turn_count",mute:1,mult:0.5}},{target_type:2,effect_type:"condition_input",input:"shock"},{condition:{id:1,min:10,continue:1},target_type:2,effect_type:"modify_value",input:"mana_max",var:1},{condition:{id:1,min:10,continue:1},target_type:2,effect_type:"modify_value",input:"strength",var:1},{condition:{id:1,min:25,continue:1},target_type:2,effect_type:"modify_value",input:"strength",var:2},{condition:{id:1,min:25,continue:1},target_type:2,effect_type:"draw",var:3},{condition:{id:1,min:50,continue:1},target_type:2,effect_type:"modify_value",input:"dodge",var:10},{condition:{id:1,min:50,continue:1},target_type:2,effect_type:"modify_value",input:"strength",var:10}]}}   ]}},HideFlags:255,display:{Name:'[{"text":"8:雷神","italic":false,"color":"yellow"}]',Lore:['[{"text":"唯一 ","color":"gold","italic":false},{"text":"HP+180 帯電+3 マナ最大値+3 不死+1","color":"gray","italic":false}]','[{"text":"自身に【帯電】+10、【加速】+99、ドロー3","color":"gray","italic":false}]','[{"text":"永続 ","color":"yellow","italic":false},{"text":"開幕 ","color":"green","italic":false},{"text":"自身と敵一体に経過ターン数/2の帯電を付与","color":"gray","italic":false}]','[{"text":" ","color":"yellow","italic":false},{"text":"【帯電:10】マナ最大値+1、攻撃力+1","color":"gray","italic":false}]','[{"text":" ","color":"yellow","italic":false},{"text":"【帯電:25】攻撃力+2、ドロー3","color":"gray","italic":false}]','[{"text":" ","color":"yellow","italic":false},{"text":"【帯電:50】回避+10、攻撃力+10","color":"gray","italic":false}]','[{"text":"※図書館戦闘用です※","color":"red","italic":false}]']}}}

execute if score $list_card_count ui_temp matches 1..5 if score $rand ui_calc1 matches 0..24 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:pink_dye",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:1,particle_laser:1,particle_target:7,effects:[{target_type:2,effect_type:"modify_value",input:"shock",var:1}]}},HideFlags:255,display:{Name:'[{"text":"1:帯電","italic":false,"color":"white"}]',Lore:['[{"text":"自身に【帯電】+1","color":"gray","italic":false}]']}}}
execute if score $list_card_count ui_temp matches 1..5 if score $rand ui_calc1 matches 25..49 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:wheat",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:3,particle_laser:1,particle_target:7,effects:[{target_type:2,effect_type:"modify_value",input:"shock",var:2},{target_type:2,effect_type:"modify_value",input:"dodge",var:2},{target_type:2,effect_type:"modify_value",input:"speed",var:1}]}},HideFlags:255,display:{Name:'[{"text":"3:電光石火","italic":false,"color":"white"}]',Lore:['[{"text":"自身に帯電+2、回避+2、加速+1","color":"gray","italic":false}]']}}}
execute if score $list_card_count ui_temp matches 1..5 if score $rand ui_calc1 matches 50..74 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:dragon_head",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:5,particle_laser:1,particle_target:7,effects:[{target_type:2,effect_type:"draw",var:1},{target_type:8,effect_type:"modify_value",input:"shock",var:2}]}},HideFlags:255,display:{Name:'[{"text":"5:雷電","italic":false,"color":"white"}]',Lore:['[{"text":"ドロー1、自身と標敵に帯電+2","color":"gray","italic":false}]']}}}
execute if score $list_card_count ui_temp matches 1..5 if score $rand ui_calc1 matches 75..99 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:green_dye",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:10,particle_laser:1,particle_target:7,effects:[{target_type:1,effect_type:"damage",var:5},{target_type:1,effect_type:"modify_value",input:"shock",var:4},{target_type:2,effect_type:"modify_value",input:"shock",var:1}]}},HideFlags:255,display:{Name:'[{"text":"10:鳴神","italic":false,"color":"white"}]',Lore:['[{"text":"標敵に5ダメージ与え帯電+4","color":"gray","italic":false}]','[{"text":"自身に帯電+1","color":"gray","italic":false}]']}}}

execute if score $list_card_count ui_temp matches 6 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:red_mushroom",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:2,cost_type:2,cost_mods:[{name:"shock",min:1,max:1}],particle_laser:1,particle_self:1001,particle_look:7,effects:[{target_type:1,effect_type:"damage",var:1},{target_type:1,effect_type:"modify_value",input:"shock",var:1},{target_type:2,effect_type:"modify_value",input:"shock",var:-1}]}},HideFlags:255,display:{Name:'[{"text":"2:電掌","italic":false,"color":"white"}]',Lore:['[{"text":"条件 ","color":"light_purple","italic":false},{"text":"自身の【帯電】が1以上","color":"gray","italic":false}]','[{"text":"標敵に1ダメージ与え帯電+1","color":"gray","italic":false}]','[{"text":"自身の帯電を1減らす","color":"gray","italic":false}]']}}}
execute if score $list_card_count ui_temp matches 7 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:iron_bars",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:4,cost_type:2,cost_mods:[{name:"shock",min:3,max:4}],particle_laser:1,particle_self:1001,particle_look:47,effects:[{target_type:1,effect_type:"damage",var:4},{target_type:1,effect_type:"modify_value",input:"shock",var:2},{target_type:2,effect_type:"draw",var:1},{target_type:2,effect_type:"modify_value",input:"shock",var:-3}]}},HideFlags:255,display:{Name:'[{"text":"4:紫電斬","italic":false,"color":"white"}]',Lore:['[{"text":"条件 ","color":"light_purple","italic":false},{"text":"自身の【帯電】が3以上","color":"gray","italic":false}]','[{"text":"標敵に4ダメージ与え帯電+2","color":"gray","italic":false}]','[{"text":"ドロー1","color":"gray","italic":false}]','[{"text":"自身の帯電を3減らす","color":"gray","italic":false}]']}}}
execute if score $list_card_count ui_temp matches 8 if score $rand ui_calc1 matches 0..49 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:yellow_dye",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:7,cost_type:2,cost_mods:[{name:"shock",min:10}],particle_laser:1,particle_self:1001,particle_look:11,effects:[{target_type:1,effect_type:"damage",var_input:{name:"shock",mute:1}},{target_type:2,effect_type:"modify_value",effect_mode:"set",input:"shock",var:0}]}},HideFlags:255,display:{Name:'[{"text":"7:電磁砲","italic":false,"color":"white"}]',Lore:['[{"text":"条件 ","color":"light_purple","italic":false},{"text":"自身の【帯電】が1以上","color":"gray","italic":false}]','[{"text":"標敵に自身の【帯電】に等しいダメージを与える","color":"gray","italic":false}]','[{"text":"自身の帯電を0にする","color":"gray","italic":false}]']}}}
execute if score $list_card_count ui_temp matches 8 if score $rand ui_calc1 matches 50..99 run data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:gold_nugget",tag:{CustomModelData:215001,tmw:{id:272,type:1,enableQ:1,cg:{cost:8,cost_type:2,cost_mods:[{name:"shock",min:10}],particle_laser:1,particle_self:1001,particle_target:7,effects:[{target_type:3,effect_type:"damage",var_input:{name:"shock",mult:0.5,mute:1}},{target_type:2,effect_type:"condition_input",input:"shock",mute:1},{condition:{id:1,min:10},target_type:2,effect_type:"modify_value",input:"dodge",var:10},{target_type:2,effect_type:"modify_value",effect_mode:"set",input:"shock",var:0}]}},HideFlags:255,display:{Name:'[{"text":"8:迅雷回天","italic":false,"color":"white"}]',Lore:['[{"text":"条件 ","color":"light_purple","italic":false},{"text":"自身の【帯電】が1以上","color":"gray","italic":false}]','[{"text":"全ての敵に自身の【帯電】の半分に等しいダメージを与える","color":"gray","italic":false}]','[{"text":"【帯電:10】自身の回避+10","color":"gray","italic":false}]','[{"text":"自身の帯電を0にする","color":"gray","italic":false}]']}}}

#data remove storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list[-1]
#data modify storage oh_my_dat: _[-4][-4][-4][-4][-4][-4][-4][-4].ui.cg1.list append value {id:"minecraft:rotten_flesh",tag:{tmw:{id:272,type:1,enableQ:1,cg:{cost:99,effects:[]}},HideFlags:1,display:{Name:'[{"text":"99:何の効果もない","italic":false,"color":"aqua"}]',Lore:[]}}}

scoreboard players add $list_card_count ui_temp 1
execute if score $list_card_count ui_temp matches ..8 run function ui:tmw/272/id/-1/non_player/raijin