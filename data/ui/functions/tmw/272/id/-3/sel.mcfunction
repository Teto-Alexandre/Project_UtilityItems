#=======================================================================================

particle dust 0.6 0 1 0.8 ~0.5 ~0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.3 ~0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.1 ~0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.1 ~0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.3 ~0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.5 ~0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.5 ~0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.5 ~0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.5 ~0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.5 ~-0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.5 ~-0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.5 ~-0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.5 ~-0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.3 ~0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.1 ~0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.1 ~0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.3 ~0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.3 ~-0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.1 ~-0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.1 ~-0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.3 ~-0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.5 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.5 ~0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.5 ~0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.5 ~0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.5 ~0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.5 ~-0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.5 ~-0.1 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.5 ~-0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.5 ~-0.3 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.3 ~-0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.1 ~-0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.1 ~-0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.3 ~-0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.5 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.3 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.3 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.3 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.3 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.1 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.1 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~0.1 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~0.1 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.1 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.1 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.1 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.1 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.3 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.3 ~0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~0.5 ~-0.3 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~-0.5 ~-0.3 ~-0.5 0 0 0 0 1
particle dust 0.6 0 1 0.8 ~ ~ ~ 0.35 0.35 0.35 0 8

playsound entity.shulker.open player @a ~ ~ ~ 1 0.8 0
particle crit ~ ~ ~ 0 0 0 1 15

#
scoreboard players set $mod ui_temp 0
scoreboard players set $mod_temp ui_temp 0
scoreboard players set $loop ui_temp 0

#
data modify storage ui:temp temp.chest set from block ~ ~ ~ Items
data modify storage ui:temp temp.tmw set value {id:272,type:2,cg:{cards:1,mod:0,list:[]}}
summon item ~ ~ ~ {Tags:["ui_temp_item"],Item:{id:"minecraft:stone",Count:1,tag:{}}}
data modify storage ui:temp temp.list set value []

#
execute if data storage ui:temp temp.chest[{Slot:26b}] run data modify storage ui:temp temp.tmw.cg.cards set from storage ui:temp temp.chest[{Slot:26b}].Count
execute if data storage ui:temp temp.chest[{Slot:26b}] run data modify entity @e[tag=ui_temp_item,limit=1] Item.id set from storage ui:temp temp.chest[{Slot:26b}].id
execute if data storage ui:temp temp.chest[{Slot:26b}] run data modify entity @e[tag=ui_temp_item,limit=1] Item.tag set from storage ui:temp temp.chest[{Slot:26b}].tag
execute if data storage ui:temp temp.chest[{Slot:26b}] run data remove storage ui:temp temp.chest[-1]

#
execute store result score $loop ui_temp run data get storage ui:temp temp.chest
execute if score $loop ui_temp matches 1.. run function ui:tmw/272/id/-3/sel.lp

#
execute store result storage ui:temp temp.tmw.cg.mod int 1 run scoreboard players get $mod ui_temp
data modify storage ui:temp temp.tmw.cg.list set from storage ui:temp temp.list
data modify entity @e[tag=ui_temp_item,limit=1] Item.tag.tmw set from storage ui:temp temp.tmw
data modify entity @e[tag=ui_temp_item,limit=1] Glowing set value true

#
tag @e[tag=ui_temp_item] remove ui_temp_item

#
scoreboard players reset $mod ui_temp
scoreboard players reset $mod_temp ui_temp
scoreboard players reset $loop ui_temp

#
data remove storage ui:temp temp




setblock ~ ~ ~ air replace
